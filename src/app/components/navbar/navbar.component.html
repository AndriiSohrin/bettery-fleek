<nav class="navbar navbar-light bg-light">
    <div class="logo">
        <h3 style="padding-left: 20px; padding-top: 10px">Quize Logo</h3>
    </div>
    <div class="registration" *ngIf="nickName === undefined">
        <button type="button" class="btn btn-success" (click)="registrationModal()">Login / Registration</button>
    </div>
    <div *ngIf="nickName !== undefined">
        <ul class="navbar-nav mr-auto mt-2 mt-lg-0 navbar_row">
            <li class="nav-item">
                <a class="nav_tabs nav-link" [ngClass]="{'active_tab':this.activeTab === 'add'}" routerLink="~ki339203/create-quize"
                    (click)="setActiveTab('add')">Add new Quize</a>
            </li>
            <li class="nav-item">
                <a class="nav_tabs nav-link" [ngClass]="{'active_tab':this.activeTab === 'answer'}" routerLink="~ki339203/questions"
                    (click)="setActiveTab('answer')">Answer</a>
            </li>
            <li class="nav-item">
                <a class="nav_tabs nav-link" [ngClass]="{'active_tab':this.activeTab === 'validate'}" routerLink="~ki339203/validate"
                    (click)="setActiveTab('validate')">Validate</a>
            </li>
            <li class="nav-item">
                <a class="nav_tabs nav-link" [ngClass]="{'active_tab':this.activeTab === 'activites'}" routerLink="~ki339203/my-activites"
                    (click)="setActiveTab('activites')">My
                    activites</a>
            </li>
            <li class="nav-item">
                <p class="user_email">Hello {{nickName}}</p>
            </li>
            <li class="nav-item">
                <div *ngIf="amountSpinner">
                    <div class="lds-ripple-small">
                        <div></div>
                        <div></div>
                    </div>
                </div>
                <p *ngIf="!amountSpinner" class="loom_balance">Loom balance: {{coinInfo.loomBalance}}</p>
            </li>
            <li *ngIf="!amountSpinner" class="nav-item">
                <button type="button" class="btn btn-outline-success btn-sm deposit" (click)="open(content)">Deposit /
                    Withdrawal</button>
            </li>
        </ul>
    </div>
</nav>

<ng-template #content let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Deposit and Withdrawal</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <ngb-tabset>
        <ngb-tab title="Deposit">
            <ng-template ngbTabContent>
                <div class="modal-body">
                    <p>Deposit to the Loom network can take between 5 to 10 minutes.</p>
                    <p>ETH balance: {{coinInfo.mainNetBalance}}</p>
                    <p>Loom balance: {{coinInfo.loomBalance}}</p>
                    <div>
                        <label class="amount_deposit_label">Amount deposit:</label>
                        <input min="0" class="form-control deposit_input" [(ngModel)]="depositAmount" (ngModelChange)="changeInput()"
                            placeholder="Amount of ETH" type="number">
                    </div>
                </div>
                <div class="modal-footer">
                    <p *ngIf="depositError !== undefined" class="deposit_error">{{depositError}}</p>
                    <button *ngIf="!depositSpinner" type="button" class="btn btn-outline-dark" (click)="deposit()">Deposit</button>
                    <div *ngIf="depositSpinner">
                        <div class="lds-ripple-small">
                            <div></div>
                            <div></div>
                        </div>
                    </div>
                </div>
            </ng-template>
        </ngb-tab>
        <ngb-tab title="Withdrawal">
            <ng-template ngbTabContent>
                <div class="modal-body">
                    <p>Deposit to the Loom network can take between 5 to 10 minutes.</p>
                    <p>ETH balance: {{coinInfo.mainNetBalance}}</p>
                    <p>Loom balance: {{coinInfo.loomBalance}}</p>
                    <div>
                        <label class="amount_deposit_label">Withdrawal amount: </label>
                        <input min="0" class="form-control deposit_input" [(ngModel)]="withdrawalAmount"
                            (ngModelChange)="changeWithdrawal()" placeholder="Amount of ETH" type="number">
                    </div>
                </div>
                <div class="modal-footer">
                    <p *ngIf="withdrawalError !== undefined" class="deposit_error">{{withdrawalError}}</p>
                    <button *ngIf="!withdrawalSpinner" type="button" class="btn btn-outline-dark" (click)="withdrawal()">Withdrawal</button>
                    <div *ngIf="withdrawalSpinner">
                        <div class="lds-ripple-small">
                            <div></div>
                            <div></div>
                        </div>
                    </div>
                </div>
            </ng-template>
        </ngb-tab>
    </ngb-tabset>
</ng-template>

<registration *ngIf="regisModal" (regisModalEvent)="receiveRegistState($event)"></registration>