<div class="box">
    <div *ngIf="formData.eventType === 'public'">
        <form [formGroup]="publicForm">
            <p class="name">Bet WITH</p>
            <div class="checkBox">
                <div class="pretty p-default p-round inline">
                    <input type="radio" value="token" formControlName="tokenType" checked>
                    <div class="state p-warning-o checkPos">
                        <label class="pos"> </label>
                    </div>
                    <p class="tab">BTY Token</p>
                </div>

                <div class="pretty p-default p-round inline">
                    <input type="radio" value="ether" formControlName="tokenType">
                    <div class="state p-warning-o checkPos">
                        <label class="pos"> </label>
                    </div>
                    <p class="tab">ETH (Ethereum)</p>

                </div>
                <div class="pretty p-default p-round inline">
                    <input type="radio" value="both" formControlName="tokenType">
                    <div class="state p-warning-o checkPos">
                        <label class="pos"></label>
                    </div>
                    <p class="tab">Both</p>

                </div>
            </div>
            <p class="info">Mininum bet is <b>1 BTY</b> or <b>0.001 ETH.</b> <a class="link" href="#">Learn more</a></p>
            <div class="timeBox">
                <div>
                    <div class="labelTime">
                        <p style="margin-bottom: 8px">TIME TO BET</p>
                    </div>
                    <div ngbDropdown class="dropBox">
                        <button [ngClass]="{ 'is_invalid': submitted && pub.publicEndTime.errors }" type="button"
                            class="btn" id="startPublicTime" ngbDropdownToggle>{{endPublicTime}}</button>
                        <div class="calendarPosition">
                            <div class="calendarImg" (click)="openCalendar(content)"></div>
                        </div>
                        <div ngbDropdownMenu aria-labelledby="startPublicTime">
                            <div *ngFor="let time of times">
                                <button (click)="chosePublicEndTime(time)" type="button"
                                    ngbDropdownItem>{{time.name}}</button>
                            </div>
                        </div>
                    </div>
                    <div *ngIf="submitted && pub.publicEndTime.errors">
                        <small *ngIf="pub.publicEndTime.errors.required" class="form-text quize_validation_error">Time
                            to bet
                            is required</small>
                    </div>
                    <p class="infoPublicText"> The event ends after the last Expert validates.</p>
                </div>

            </div>
            <div>
                <div class="labelTime">
                    <p style="margin-bottom: 8px">NUMBER OF EXPERTS</p>
                </div>
                <div class="pretty p-default p-round inline expertsCheckWrapper" style="margin-bottom: 8px">
                    <input type="radio" value="company" formControlName="expertsCountType" checked>
                    <div class="state p-warning-o checkBoxPosition">
                        <label class="pos"> </label>
                    </div>
                    <p class="tab tabPosTwo">10% of Players who placed bet</p>
                </div>
                <div [ngClass]="{ 'nguyen': pub.expertsCountType.value == 'custom'}">
                    <div class="pretty p-default p-round inline expertsCheckWrapper"
                        [ngClass]="{ 'nguyen2': pub.expertsCountType.value == 'custom'}">
                        <input type="radio" value="custom" formControlName="expertsCountType">
                        <div class="state p-warning-o checkBoxPosition">
                            <label class="pos"> </label>
                        </div>
                        <p *ngIf="pub.expertsCountType.value != 'custom'" class="tab tabPosTwo">Enter number of Experts
                        </p>
                    </div>
                    <div *ngIf="pub.expertsCountType.value == 'custom'"
                        [ngClass]="{ 'nguyen3': pub.expertsCountType.value == 'custom'}">
                        <div [ngClass]="{ 'nguyen3': pub.expertsCountType.value == 'custom'}">
                            <input type="number" placeholder="Enter number of experts" formControlName="expertsCount"
                                class="answer" [ngClass]="{ 
                                    'is_invalid': submitted && (pub.expertsCount.value == '' || pub.expertsCount.value == 0),
                                    'nguyen4': pub.expertsCountType.value == 'custom'
                                }" />
                        </div>
                    </div>
                </div>
                <div *ngIf="submitted && pub.expertsCountType.value == 'custom'">
                    <small *ngIf="pub.expertsCount.value == '' || pub.expertsCount.value == 0"
                        class="form-text quize_validation_error">Experts number is required</small>
                </div>
            </div>
            <div>
                <ul style="padding-top: 32px">
                    <li class="infoGrey">Anyone can choose to join as a Player to bet on the event, or as an Expert
                        to validate the result.</li>
                    <li class="infoGrey">Experts join to validate after the Players. They can't bet.</li>
                    <li class="infoGrey">Events need both Players and Experts to join in 8 hours. Otherwise it will be
                        cancelled.</li>
                </ul>
                <p class="infoYellow">Pot from losers is distributed to <b>Experts (5%), Host (3%), Bettery (2%),</b>
                    and <b>Winners
                        (90%)</b> who get their bets back.</p>
            </div>
            <div class="buttonBox">
                <button type="button" class="cancel" (click)="cancel()">BACK</button>
                <button type="button" class="next" (click)="createPublicEvent()">NEXT</button>
            </div>

        </form>
    </div>
    <div *ngIf="formData.eventType === 'private'">
        <form [formGroup]="privateForm">
            <div class="cupInfo">
                <div class="cupImg"></div>
                <p class="name cupName">What to win or lose</p>
            </div>
            <div class="form-group">
                <div class="inputBox">
                    <input type="text" formControlName="winner" class="answer" id="winner" placeholder="Get free dinner"
                        [ngClass]="{ 'is_invalid': submitted && priv.winner.errors }">
                    <div class="tip">
                        <p class="posOne">Winners</p>
                    </div>
                </div>
                <div *ngIf="submitted && priv.winner.errors">
                    <small *ngIf="priv.winner.errors.required" class="form-text quize_validation_error">Winners is
                        required</small>
                </div>
            </div>
            <div class="form-group">
                <div class="inputBox">
                    <input type="text" formControlName="losers" class="answer" id="losers" placeholder="Share the bill"
                        [ngClass]="{ 'is_invalid': submitted && priv.losers.errors }">
                    <div class="tip">
                        <p class="posTwo">Losers</p>
                    </div>
                </div>
                <div *ngIf="submitted && priv.losers.errors">
                    <small *ngIf="priv.losers.errors.required" class="form-text quize_validation_error">Losers is
                        required</small>
                </div>
            </div>

            <div class="cupInfo" style="padding-top: 20px;">
                <div class="clockImg"></div>
                <p class="name cupName">TIME TO BET</p>
            </div>

            <div ngbDropdown class="dropBox">
                <button [ngClass]="{ 'is_invalid': submitted && priv.privateEndTime.errors }" type="button" class="btn"
                    id="startTime" ngbDropdownToggle>{{endPrivateTime}}</button>
                <div ngbDropdownMenu aria-labelledby="startTime">
                    <div *ngFor="let time of times">
                        <button (click)="chosePrivateEndTime(time)" type="button" ngbDropdownItem>{{time.name}}</button>
                    </div>
                </div>
            </div>
            <div *ngIf="submitted && priv.privateEndTime.errors">
                <small *ngIf="priv.privateEndTime.errors.required" class="form-text quize_validation_error">End time is
                    required</small>
            </div>

            <p class="infoPrivateText">Event needs Players to bet and one Expert to validate the resuls after betting.
                Expert can't bet.</p>

            <div class="cupInfo" style="padding-top: 0px">
                <div class="handImg"></div>
                <p class="name cupName">REWARD for EXPERT</p>
            </div>
            <div class="answerBox">
                <p class="answer reward">Eternal gratitude for the honesty</p>
            </div>

            <div class="buttonBox">
                <button type="button" class="cancel" (click)="cancel()">BACK</button>
                <button type="button" class="next" (click)="createPrivateEvent()">NEXT</button>
            </div>

        </form>
    </div>
</div>

<ng-template #content let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">SET DATE AND TIME</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <p class="date">DATE</p>
        <form [formGroup]="exactTime" class="formPicker">
            <select id="daydropdown" class="datePicker" formControlName="day">
            </select>
            <select id="monthdropdown" class="datePicker" formControlName="month">
            </select>
            <select id="yeardropdown" class="datePicker" formControlName="year">
            </select>
        </form>
        <div class="borderVector"></div>
        <p class="date" style="margin-top: 24px;">TIME</p>
        <ngb-timepicker id="timePicker" [(ngModel)]="timeData"></ngb-timepicker>
        <div class="borderVector"></div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn saveModal" (click)="saveExactTime()">Save</button>
    </div>
</ng-template>