<div [className]="checkTheme() ? 'bgWhite' : 'bgDark'">

  <div class="sortHeadDark" id="up">
    <div class="sortHead-item-dark" [ngClass]="sortComment === 'newest' && 'activeDark'"
         (click)="letsSortComment('newest')">Newest
    </div>
    <div class="sortHead-item-dark" [ngClass]="sortComment === 'hottest' && 'activeDark'"
         (click)="letsSortComment('hottest')">Hottest
    </div>
    <div class="sortHead-item-dark" [ngClass]="sortComment === 'friends' && 'activeDark'"
         (click)="letsSortComment('friends')">Friends
    </div>
  </div>

  <div *ngIf="!comingSoon" class="comment-warp">
    <div id="{{comment?.id}}" class="commentBox" [ngClass]="allComments?.length < showLength && 'commentBoxChange'"
         *ngFor="let comment of showOnScreen">
      <div class="commentHeader">
        <div class="senderBox">
          <div><img class="commentImg" src="{{comment?.user.avatar}}" alt="ava"></div>
          <p class="commentName">{{comment?.user.nickName}}</p>
        </div>
        <div class="timeBox">{{comment?.date | timeAgo | async}}</div>
      </div>
      <div>
        <p class="comment">
          <a (mousedown)="additionToAnchorLink(comment.replies[0].id)" class="mr-1"
             (pageScrollFinish) = "finishScrollAnimation($event, comment.replies[0].id )"
             pageScroll href="#{{comment.replies[0].id}}" *ngIf="comment?.replies.length > 0">
            {{comment?.replies[0].user.nickName}}</a>
        {{comment?.comment}}
        </p>
      </div>

      <div class="icon-wrap row">

        <div class="d-flex col-7">
          <div (click)="sendIcon('angry', comment?.id)">
            <div class="d-flex">
              <div class="angryIcon darkSize"></div>
              <span class="countIcon darkSize"
                    [ngClass]="!checkTheme() && 'colorWhite'">{{comment?.angry.length}}</span>
            </div>
            <div *ngIf="findCCurrentUserReview(comment?.angry)" class="angryBorder"></div>
          </div>

          <div (click)="sendIcon('star', comment?.id)">
            <div class="d-flex">
              <div class="starIcon darkSize"></div>
              <span class="countIcon darkSize" [ngClass]="!checkTheme() && 'colorWhite'">{{comment?.star.length}}</span>
            </div>
            <div *ngIf="findCCurrentUserReview(comment?.star)" class="starBorder"></div>
          </div>

          <div (click)="sendIcon('smile', comment?.id)">
            <div class="d-flex">
              <div class="smileIcon darkSize"></div>
              <span class="countIcon darkSize"
                    [ngClass]="!checkTheme() && 'colorWhite'">{{comment?.smile.length}}</span>
            </div>
            <div *ngIf="findCCurrentUserReview(comment?.smile)" class="smileBorder"></div>
          </div>

          <div (click)="sendIcon('wink', comment?.id)">
            <div class="d-flex">
              <div class="winkyIcon darkSize"></div>
              <span class="countIcon darkSize" [ngClass]="!checkTheme() && 'colorWhite'">{{comment?.wink.length}}</span>
            </div>
            <div *ngIf="findCCurrentUserReview(comment?.wink)" class="winkBorder"></div>
          </div>
        </div>

        <div  class="replyDark col-5">
          <a href="#sendBox" pageScroll (click)="replySend(comment?.id, comment?.user)">Reply</a>
        </div>

      </div>

    </div>
    <div *ngIf="allComments?.length > showLength" (click)="showMoreComments()" class="showMore"><p>View 10 more comments</p></div>
  </div>


  <div *ngIf="comingSoon" class="comment-warp">
    <p>Coming soon</p>
  </div>

  <div>
    <div id="sendBox" class="sendCommentBox" *ngIf="!withoutSend">
    <textarea id="textarea" (keyup)="typingEffect()" [(ngModel)]="newComment" class="addCommentBox" type="text"
              name="newComment"
              placeholder="Add a comment..."></textarea>
      <div (click)="sendComment()" class="sendImg"></div>
    </div>
    <div class="wrapCommentDown">
      <div class="arrowUp d-flex">
        <div class="arrowImg"></div>
        <div><a style="color: #fff" pageScroll href="#up">Go to top</a></div>
      </div>
      <div *ngIf="this.flag" class="someoneTyping">
        <div class="typeCircle-1" [ngClass]="activated[0]"></div>
        <div class="typeCircle-1" [ngClass]="activated[1]"></div>
        <div class="typeCircle-1" [ngClass]="activated[2]"></div>
      </div>
    </div>
  </div>
</div>
